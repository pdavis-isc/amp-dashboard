<!--slide-in menu -->
<div class="secondary-nav-wrapper"
     ng-include="'common/navContainer/iscSecondaryNav.html'"
     ng-class="{'secondary-nav' : navCtrl.showSecondaryNav }">
</div>

<!-- desktop side nav -->
<div class="isc-secondary-nav-container only-desktop">
  <a class="isc-inbox-nav-item"
     ng-repeat="tab in ::navCtrl.navModel.getSecondaryNav() | orderBy: navCtrl.iscUiHelper.displayOrder"
     ng-class="{'selected':mssgCtrl.stateManager.isCurrentState( tab.state )}"
     ng-click="mssgCtrl.onInOutBoxClick()"
     ng-if="!tab.exclude"
     ui-sref="{{::tab.state}}">{{tab.translationKey | translate}}
    <span class="isc-read-message-count pull-right">{{mssgCtrl.model.getUnreadMessageCount( tab.state  )}}</span>
  </a>

  <div ng-if="navCtrl.navModel.hasSecondaryNavTasks()">
    <hr>

    <h1>{{'ISC_COMMON_TASKS' | translate}}</h1>

    <a class="isc-secondary-nav-item"
       ng-repeat="task in ::navCtrl.navModel.getSecondaryNavTasks() | orderBy: navCtrl.iscUiHelper.displayOrder"
       ng-class="{'active':mssgCtrl.stateManager.isCurrentState( task.state )}"
       ng-if="!task.exclude"
       ui-sref="{{::task.state}}">
      <span ng-include="'shared/svg/isc-task-arrow.html'"></span>
      {{task.translationKey | translate}}
    </a>
  </div>
</div>


<!--mobile dropdown-->
<div class="only-mobile isc-secondary-nav-mobile-dropdown">

  <a class="isc-secondary-nav-link"
     ng-click="navCtrl.showSecondaryNavbar()">

      <span ng-if="navCtrl.sessionModel.isAuthenticated()"
            class="name">{{navCtrl.sessionModel.getFullName()}}'s</span>
    <span class="name">{{mssgCtrl.stateManager.getCurrentStateTranslationKey() | translate }}</span>
  </a>
</div>
